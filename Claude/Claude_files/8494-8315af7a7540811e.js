(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8494],{20549:function(){},43290:function(){},83041:function(e,t,n){"use strict";n.d(t,{Ne:function(){return p},WE:function(){return f},uC:function(){return d}});var r=n(28648),i=n(43316),o=n(56646),u=n(2645),a=n(84983),c=n(7653),s=n(68571);function l(e,t){return(0,c.useCallback)(async(n,o)=>{var u,a;let c=await fetch(n,{...o,headers:{"anthropic-client-sha":null!==(u=s.env.RELEASE_SHA)&&void 0!==u?u:"unknown","anthropic-client-version":null!==(a=s.env.RELEASE_VERSION)&&void 0!==a?a:"unknown",...o.headers}}),l=await c.text(),d={error:{type:"api_error",message:l}};try{("DELETE"!==o.method||l.length>0)&&(d=JSON.parse(l))}catch(e){(0,i.uT)("Got invalid JSON from NextJS response",{extra:{text:l,status:c.status}})}if(!c.ok&&t!==c.status)throw(0,r.fT)(c.status,d,e,c.headers);return d},[e,t])}let d=(e,t,n)=>{let{transformVariables:r,enabled:i=!0,...u}=n||{},a=l("Mutation error"),{mutate:s,...d}=(0,o.useMutation)({mutationFn:async n=>{let i;i="function"==typeof e?e(n):e;let o=r?r(n):n;return await a(i,{method:t,headers:{"Content-Type":"application/json"},body:o?JSON.stringify(o):void 0})},...u});return{mutate:(0,c.useCallback)(e=>{i&&s(e)},[s,i]),...d}},f=(e,t,n)=>{let r=l("Query error",null==t?void 0:t.additionalPermittedStatusCode);return(0,u.useQuery)({queryKey:[e,n],queryFn:async()=>{let t=await r(e,{method:"GET",headers:{"Content-Type":"application/json"}});return n?n(t):t},retry:!1,...t})};function p(e,t,n,r){let i=(0,a.useQueryClient)(),{queryKey:o,...u}=r;return d(e,t,{async onMutate(e){await i.cancelQueries({queryKey:o});let t=i.getQueryData(o);return i.setQueryData(o,t=>n(e,t)),{previousValue:t}},onError(e,t,n){(null==n?void 0:n.previousValue)&&i.setQueryData(o,n.previousValue)},...u})}},11492:function(e,t,n){"use strict";n.r(t),n.d(t,{ConfigurationProvider:function(){return u},useConfiguration:function(){return a},useIsClaudeDot:function(){return c}});var r=n(27573),i=n(7653);let o=(0,i.createContext)(void 0),u=e=>{let{config:t,children:n}=e;return(0,r.jsx)(o.Provider,{value:t,children:n})},a=()=>{let e=(0,i.useContext)(o);if(!e)throw Error("useConfiguration must be called from within ConfigurationProvider");return e},c=()=>{let{applicationType:e}=a();return"claude-dot"===e}},23532:function(e,t,n){"use strict";n.r(t),n.d(t,{SSRCookiesProvider:function(){return s},browserCookieStore:function(){return c},useCookies:function(){return l}});var r=n(27573),i=n(7653);function o(e){return e.endsWith(".anthropic.com")?".anthropic.com":"claude.ai"===e||e.endsWith(".claude.ai")?".claude.ai":e.endsWith(".staging.ant.dev")?".".concat(e):void 0}let u=(0,i.createContext)(null),a="Thu, 01 Jan 1970 00:00:01 GMT",c={get:e=>{let t=document.cookie.split(";");for(let n=0;n<t.length;n++){let[r,i]=t[n].trim().split("=");if(e===r)return decodeURIComponent(i)}},set:function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["".concat(e,"=").concat(encodeURIComponent(t)),"max-age=".concat(null!==(n=r.maxAgeSeconds)&&void 0!==n?n:31536e3),"samesite=lax","secure","path=/"],u=o(window.location.hostname);u&&(document.cookie="".concat(e,"=[removed]; expires=").concat(a,"; samesite=lax; secure; path=/"),i.push("domain=".concat(u))),document.cookie=i.join("; ")},delete:e=>{let t=["".concat(e,"=[removed]"),"expires=".concat(a),"samesite=lax","secure"],n=o(window.location.hostname);n&&t.push("domain=".concat(n)),document.cookie=t.join("; ")}},s=e=>{let{value:t,children:n}=e,o=(0,i.useMemo)(()=>{if(!t)return{get:()=>void 0,set:()=>void 0,delete:()=>void 0};let e=Object.fromEntries(t.map(e=>[e.name,e.value]));return{get:t=>e[t],set:e=>{throw Error("Cannot set cookies in server-rendered client component. Attempting to set ".concat(e))},delete:e=>{throw Error("Cannot delete cookies in server-rendered client component. Attempting to delete ".concat(e))}}},[t]);return(0,r.jsx)(u.Provider,{value:o,children:n})},l=()=>((0,i.useContext)(u),c)},16096:function(e,t,n){"use strict";n.r(t),n.d(t,{CurrentAccountContext:function(){return v},CurrentAccountProvider:function(){return g},useBootstrapQuery:function(){return _},useCanManageBilling:function(){return A},useCanUpgradeToPro:function(){return x},useCurrentAccount:function(){return w},useHasCapability:function(){return C},useHasPaidAccount:function(){return y},useHasProSubscription:function(){return b},useHasRaven:function(){return E},useIsReadOnlyMode:function(){return S},useUsagePaused:function(){return T}});var r=n(27573),i=n(28648),o=n(14983),u=n(35146),a=n(88337),c=n(81054),s=n.n(c),l=n(7653),d=n(80248),f=n(83041),p=n(11492),m=n(23532);let v=(0,l.createContext)(null),g=e=>{let{children:t}=e,n=(0,m.useCookies)(),[u,a]=(0,l.useState)(),{data:c,error:d,isFetching:f,refetch:g}=_();(0,l.useEffect)(()=>{u&&n.set(o.cn.LAST_ACTIVE_ORG,u)},[u,n]);let h=(0,p.useIsClaudeDot)(),w=(0,l.useMemo)(()=>{let e;if(!(null==c?void 0:c.account))return;let t=h?"chat":"api",r=c.account.memberships.map(e=>e.organization).filter(e=>e.capabilities.includes(t));if(u){let e=r.find(e=>e.uuid===u);if(e)return e}if(!e){let t=n.get(o.cn.LAST_ACTIVE_ORG);e=r.find(e=>e.uuid===t)}return e||(e=s()(r,"name")),e&&a(e.uuid),e},[c,u,h,n]),C=(0,l.useMemo)(()=>{var e;let t=d instanceof i.Hx&&403===d.statusCode||!(null==c?void 0:c.account);return{account:null==c?void 0:c.account,activeOrganization:w,statsig:null==c?void 0:c.statsig,intercomAccountHash:null==c?void 0:c.intercom_account_hash,messageLimit:null==c?void 0:null===(e=c.messageLimits)||void 0===e?void 0:e[(null==w?void 0:w.uuid)||""],setActiveOrganizationUUID:a,isLoading:f,isLoggedOut:!f&&t,refetch:async()=>{var e;return null===(e=(await g()).data)||void 0===e?void 0:e.account}}},[c,d,w,f,g]);return(0,r.jsx)(v.Provider,{value:C,children:t})},h=e=>e&&"type"in e?null:e,_=()=>{let{data:e,refetch:t,...n}=(0,f.WE)("/api/bootstrap",{queryKey:[u.aY],staleTime:1/0,retryOnMount:!1,additionalPermittedStatusCode:403}),r=(0,l.useCallback)(async()=>{let e=await t();return{...e,data:h(e.data)}},[t]);return{...n,data:h(e),refetch:r}},w=()=>{let e=(0,l.useContext)(v);if(!e)throw Error("Must call inside CurrentAccountProvider");return e},C=e=>{let{activeOrganization:t}=w();return!!t&&t.capabilities.includes(e)},b=()=>C("claude_pro"),E=()=>C("raven"),y=()=>{let e=b(),t=E();return e||t},x=()=>{let e=b(),t=E();return!e&&!t},S=()=>{let{value:e}=(0,d.useGate)("read_only_mode");return e},A=()=>{let{account:e,activeOrganization:t}=w(),n=(0,a.Di)(e,t,a.YB.BillingManage),r=b(),{value:i}=(0,d.useGate)("claude-pro-disabled"),o=E();return o&&n||!o&&(r||!i)},T=()=>{let{activeOrganization:e}=w();return null!=e&&!!e.billable_usage_paused_until&&new Date(e.billable_usage_paused_until)>new Date}},28648:function(e,t,n){"use strict";n.d(t,{Hx:function(){return r},fT:function(){return i}});class r extends Error{constructor(e,t,n,r){super(e),this.type=t,this.statusCode=n,this.extra=r}}function i(e,t,n,i){if(t&&"object"==typeof t&&"error"in t){let{message:n,type:o,...u}=t.error;return u.headers=i,new r(n,o,e,u)}return new r(n,"api_error",e,t||{})}},14983:function(e,t,n){"use strict";var r,i;n.d(t,{cn:function(){return r},gV:function(){return c},jC:function(){return s},jW:function(){return l},m7:function(){return u},mL:function(){return a},pz:function(){return o}});let o="https://support.anthropic.com/en/articles/8602283-does-claude-ai-have-any-message-limits",u="https://support.anthropic.com/en/articles/8325612-does-claude-pro-have-any-usage-limits",a=["https://forms.gle/r2yBoWVmbDeru9jY7"],c="https://support.anthropic.com/en/articles/8324991-about-claude-pro-usage",s="https://support.anthropic.com/en/articles/7996848-how-large-is-claude-s-context-window",l="https://support.anthropic.com/en/articles/8106465-our-approach-to-user-safety";(i=r||(r={})).LAST_ACTIVE_ORG="lastActiveOrg",i.COLOR_MODE="CH-prefers-color-scheme",i.CONSENT_PREFERENCES="anthropic-consent-preferences",i.SIDEBAR_PINNED="user-sidebar-pinned",i.RETURN_TO="return-to",i.JOIN_TOKEN="join-token",i.LEGAL_ACCEPTANCES="legal-acceptances",i.SESSION_KEY="sessionKey",i.PENDING_LOGIN="pendingLogin"},35146:function(e,t,n){"use strict";n.d(t,{$T:function(){return C},BB:function(){return m},Ep:function(){return i},I8:function(){return a},I_:function(){return v},QU:function(){return _},Qn:function(){return p},RK:function(){return d},VH:function(){return T},aY:function(){return s},eW:function(){return h},ec:function(){return r},gi:function(){return b},gs:function(){return l},je:function(){return f},l3:function(){return O},ld:function(){return A},lx:function(){return y},mm:function(){return g},n$:function(){return E},ph:function(){return u},sM:function(){return w},sf:function(){return c},tt:function(){return x},tv:function(){return o},zy:function(){return S}});let r="account_profile",i="chat_message_debug_info",o="chat_conversation_list",u="chat_conversation",a="chat_conversation_tree",c="chat_failed_stream_retry",s="current_account",l="current_account_deletable",d="invoice_list",f="upcoming_invoice",p="model_config",m="org_invites",v="org_members",g="org",h="account_statsig",_="subscription_details",w="subscription_status",C="project",b="project_list",E="top_projects",y="project_list_conversations",x="project_doc",S="project_doc_list",A="chat_snapshot",T="activity_feed",O="project_accounts_list"},88337:function(e,t,n){"use strict";var r,i;n.d(t,{Di:function(){return u},Fs:function(){return a},YB:function(){return r}}),(i=r||(r={})).MembersView="members:view",i.MembersManage="members:manage",i.ApiView="api:view",i.ApiManage="api:manage",i.IntegrationsManage="integrations:manage",i.BillingView="billing:view",i.BillingManage="billing:manage",i.OrganizationManage="organization:manage",i.InvoicesView="invoices:view",i.UsageView="usage:view",i.ExportData="export:data";let o={user:["members:view"],developer:["members:view","api:view","api:manage","integrations:manage","usage:view"],billing:["members:view","billing:view","billing:manage","usage:view","invoices:view"],admin:["members:view","members:manage","api:view","api:manage","integrations:manage","billing:view","billing:manage","usage:view","invoices:view","organization:manage","export:data"]},u=(e,t,n)=>!!e&&!!t&&a(e,t,n),a=(e,t,n)=>{var r;let i=null===(r=e.memberships.find(e=>e.organization.uuid===t.uuid))||void 0===r?void 0:r.role;return!!i&&o[i].includes(n)}}}]);